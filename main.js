!function(){function e(e,t,n,a){var d=document.createElement("article"),r=document.createElement("div"),o=document.createElement("img"),l=document.createElement("div"),i=document.createElement("h1"),s=document.createElement("p"),c=document.createElement("a");return r.classList.add("artimg"),o.src="images/"+e.Image,r.appendChild(o),o.width/o.height<1.48?o.classList.add("port"):o.classList.add("land"),console.log(o.width/o.height),a&&(l.style.backgroundColor=n[e.Category-1].Color,l.classList.add("cat-"+e.Category),l.classList.add("bottomtext"),l.innerHTML=n[e.Category-1].Title,r.appendChild(l)),d.appendChild(r),i.innerHTML=e.Title,s.innerHTML=e.Intro.split(".")[0]+".",c.href="",c.innerHTML="Se video",c.classList.add("videolink"),d.appendChild(i),d.appendChild(s),d.appendChild(c),t.appendChild(d),d}function t(){var t,n,a,d=document.getElementById("search"),r=document.getElementById("results");d.addEventListener("keyup",function(){a=[];var e=new RegExp(".*"+d.value+".*","i");r.innerHTML="",r.style.display="block";for(var n=0;n<t.length&&a.length<6;n++)t[n].Title.match(e)&&(a.push(t[n]),r.innerHTML+="<li>"+t[n].Title+"</li>")}),d.addEventListener("blur",function(){r.style.display="none"});var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState==XMLHttpRequest.DONE&&200==o.status){var a=JSON.parse(o.responseText),d=document.getElementById("categories"),r=document.getElementById("news"),l=document.getElementById("bil"),i=document.getElementById("bol"),s=0,c=0;t=a.Articles,n=a.Categories;for(var m=0;m<n.length;m++){var u=document.createElement("div"),g=document.createElement("a");g.innerHTML=n[m].Title,g.href="",g.style.borderColor=n[m].Color,u.classList.add("category"),u.style.width="calc(100% / "+n.length+")",u.appendChild(g),d.appendChild(u),console.log(n[m])}t.sort(function(e,t){return t.Date-e.Date});for(var m=0;6>m;m++)e(t[m],r,n,!0);for(var m=0;m<t.length;m++)(1==t[m].Category&&s++<4||2==t[m].Category&&c++<4)&&(e(t[m],1==t[m].Category?l:i,n,!1).classList.add("category-article"),console.log(t[m]));t.sort(function(e,t){return t.Views-e.Views}),r=document.getElementById("mostread");for(var m=0;5>m;m++)e(t[m],r,n,!0).classList.add("aside-article")}},o.open("GET","hvordan.json"),o.send()}document.addEventListener("DOMContentLoaded",t)}();