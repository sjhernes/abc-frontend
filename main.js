!function(){function e(e,t,n,a){var d=document.createElement("article"),l=document.createElement("div"),r=document.createElement("img"),o=document.createElement("div"),i=document.createElement("h1"),s=document.createElement("p"),c=document.createElement("a");return l.classList.add("artimg"),r.src="images/"+e.Image,l.appendChild(r),r.alt=e.Title,r.width/r.height<1.48?r.classList.add("port"):r.classList.add("land"),console.log(r.width/r.height),a&&(o.style.backgroundColor=n[e.Category-1].Color,o.classList.add("cat-"+e.Category),o.classList.add("bottomtext"),o.innerHTML=n[e.Category-1].Title,l.appendChild(o)),d.appendChild(l),i.innerHTML=e.Title,s.innerHTML=e.Intro.split(".")[0]+".",c.href="",c.innerHTML="Se video",c.classList.add("videolink"),d.appendChild(i),d.appendChild(s),d.appendChild(c),t.appendChild(d),d}function t(){var t,n,a,d=document.getElementById("search"),l=document.getElementById("results");d.addEventListener("keyup",function(){a=[];var e=new RegExp(".*"+d.value+".*","i");l.innerHTML="",l.style.display="block";for(var n=0;n<t.length&&a.length<6;n++)t[n].Title.match(e)&&(a.push(t[n]),l.innerHTML+="<li>"+t[n].Title+"</li>")}),d.addEventListener("blur",function(){l.style.display="none"});var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState==XMLHttpRequest.DONE&&200==r.status){var a=JSON.parse(r.responseText),d=document.getElementById("categories"),l=document.getElementById("news"),o=document.getElementById("bil"),i=document.getElementById("bol"),s=0,c=0;t=a.Articles,n=a.Categories;for(var m=0;m<n.length;m++){var u=document.createElement("div"),g=document.createElement("a");g.innerHTML=n[m].Title,g.href="",g.style.borderColor=n[m].Color,u.classList.add("category"),u.style.width="calc(100% / "+n.length+")",u.appendChild(g),d.appendChild(u),console.log(n[m])}t.sort(function(e,t){return t.Date-e.Date});for(var m=0;6>m;m++)e(t[m],l,n,!0);for(var m=0;m<t.length;m++)(1==t[m].Category&&s++<4||2==t[m].Category&&c++<4)&&(e(t[m],1==t[m].Category?o:i,n,!1).classList.add("category-article"),console.log(t[m]));t.sort(function(e,t){return t.Views-e.Views}),l=document.getElementById("mostread");for(var m=0;5>m;m++)e(t[m],l,n,!0).classList.add("aside-article")}},r.open("GET","hvordan.json"),r.send()}document.addEventListener("DOMContentLoaded",t)}();